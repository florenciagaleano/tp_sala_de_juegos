import{b as Ss}from"./chunk-UQ2ZUWA5.js";import{$ as re,$a as ys,A as Wn,D as Oe,Ea as W,F as ke,Fa as ps,G as et,Ga as gs,H as zn,Ha as ms,I as Ne,Ia as vs,J as rs,K as Ut,L as te,M as Hn,N as is,Na as Is,O as ss,P as os,Q as V,R as as,S as T,T as C,U as b,V as tt,W as cs,X as O,Y as Bn,Z as ne,Za as _s,_ as I,_a as Gn,a as p,ab as ws,b as R,ba as us,bb as Es,c as pe,ca as nt,cb as Ts,d as l,da as ls,db as bs,e as Yi,ea as ds,eb as Kn,f as Qi,fb as Jn,g as Mn,h as Un,ha as xt,i as xn,ia as me,j as ge,ja as hs,k as L,l as Xi,lb as Ft,m as Zi,ma as qn,n as ee,na as De,o as Fn,p as $n,q as jn,qa as rt,r as x,s as m,t as Ze,u as es,ua as fs,v as ts,w as E,x as Vn,y as M,z as ns}from"./chunk-QGH44FHM.js";var v="primary",It=Symbol("RouteTitle"),er=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Fe(t){return new er(t)}function ka(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Na(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!z(t[n],e[n]))return!1;return!0}function z(t,e){let n=t?tr(t):void 0,r=e?tr(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!ks(t[i],e[i]))return!1;return!0}function tr(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function ks(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function Ns(t){return t.length>0?t[t.length-1]:null}function oe(t){return es(t)?t:Es(t)?x(Promise.resolve(t)):m(t)}var Da={exact:Ls,subset:Ms},Ds={exact:La,subset:Ma,ignored:()=>!0};function As(t,e,n){return Da[n.paths](t.root,e.root,n.matrixParams)&&Ds[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function La(t,e){return z(t,e)}function Ls(t,e,n){if(!Ie(t.segments,e.segments)||!Vt(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!Ls(t.children[r],e.children[r],n))return!1;return!0}function Ma(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>ks(t[n],e[n]))}function Ms(t,e,n){return Us(t,e,e.segments,n)}function Us(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Ie(i,n)||e.hasChildren()||!Vt(i,n,r))}else if(t.segments.length===n.length){if(!Ie(t.segments,n)||!Vt(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!Ms(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!Ie(t.segments,i)||!Vt(t.segments,i,r)||!t.children[v]?!1:Us(t.children[v],e,s,r)}}function Vt(t,e,n){return e.every((r,i)=>Ds[n](t[i].parameters,r.parameters))}var ie=class{constructor(e=new y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Fe(this.queryParams),this._queryParamMap}toString(){return Fa.serialize(this)}},y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wt(this)}},ve=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Fe(this.parameters),this._parameterMap}toString(){return Fs(this)}};function Ua(t,e){return Ie(t,e)&&t.every((n,r)=>z(n.parameters,e[r].parameters))}function Ie(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xa(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===v&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==v&&(n=n.concat(e(i,r)))}),n}var Rr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new Ht,providedIn:"root"});let t=e;return t})(),Ht=class{parse(e){let n=new rr(e);return new ie(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${it(e.root,!0)}`,r=Va(e.queryParams),i=typeof e.fragment=="string"?`#${$a(e.fragment)}`:"";return`${n}${r}${i}`}},Fa=new Ht;function Wt(t){return t.segments.map(e=>Fs(e)).join("/")}function it(t,e){if(!t.hasChildren())return Wt(t);if(e){let n=t.children[v]?it(t.children[v],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==v&&r.push(`${i}:${it(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xa(t,(r,i)=>i===v?[it(t.children[v],!1)]:[`${i}:${it(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[v]!=null?`${Wt(t)}/${n[0]}`:`${Wt(t)}/(${n.join("//")})`}}function xs(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $t(t){return xs(t).replace(/%3B/gi,";")}function $a(t){return encodeURI(t)}function nr(t){return xs(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function zt(t){return decodeURIComponent(t)}function Rs(t){return zt(t.replace(/\+/g,"%20"))}function Fs(t){return`${nr(t.path)}${ja(t.parameters)}`}function ja(t){return Object.entries(t).map(([e,n])=>`;${nr(e)}=${nr(n)}`).join("")}function Va(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$t(n)}=${$t(i)}`).join("&"):`${$t(n)}=${$t(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Wa=/^[^\/()?;#]+/;function Yn(t){let e=t.match(Wa);return e?e[0]:""}var za=/^[^\/()?;=#]+/;function Ha(t){let e=t.match(za);return e?e[0]:""}var Ba=/^[^=?&#]+/;function qa(t){let e=t.match(Ba);return e?e[0]:""}var Ga=/^[^&#]+/;function Ka(t){let e=t.match(Ga);return e?e[0]:""}var rr=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new y([],{}):new y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[v]=new y(e,n)),r}parseSegment(){let e=Yn(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new ve(zt(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=Ha(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Yn(this.remaining);i&&(r=i,this.capture(r))}e[zt(n)]=zt(r)}parseQueryParam(e){let n=qa(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=Ka(this.remaining);o&&(r=o,this.capture(r))}let i=Rs(n),s=Rs(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Yn(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=v);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[v]:new y([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function $s(t){return t.segments.length>0?new y([],{[v]:t}):t}function js(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=js(i);if(r===v&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new y(t.segments,e);return Ja(n)}function Ja(t){if(t.numberOfChildren===1&&t.children[v]){let e=t.children[v];return new y(t.segments.concat(e.segments),e.children)}return t}function $e(t){return t instanceof ie}function Ya(t,e,n=null,r=null){let i=Vs(t);return Ws(i,e,n,r)}function Vs(t){let e;function n(s){let o={};for(let c of s.children){let u=n(c);o[c.outlet]=u}let a=new y(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=$s(r);return e??i}function Ws(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qn(i,i,i,n,r);let s=Qa(e);if(s.toRoot())return Qn(i,i,new y([],{}),n,r);let o=Xa(s,i,t),a=o.processChildren?at(o.segmentGroup,o.index,s.commands):Hs(o.segmentGroup,o.index,s.commands);return Qn(i,o.segmentGroup,a,n,r)}function Bt(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function lt(t){return typeof t=="object"&&t!=null&&t.outlets}function Qn(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=zs(t,e,n);let a=$s(js(o));return new ie(a,s,i)}function zs(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=zs(s,e,n)}),new y(t.segments,r)}var qt=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Bt(r[0]))throw new C(4003,!1);let i=r.find(lt);if(i&&i!==Ns(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qa(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new qt(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new qt(n,e,r)}var Ue=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function Xa(t,e,n){if(t.isAbsolute)return new Ue(e,!0,0);if(!n)return new Ue(e,!1,NaN);if(n.parent===null)return new Ue(n,!0,0);let r=Bt(t.commands[0])?0:1,i=n.segments.length-1+r;return Za(n,i,t.numberOfDoubleDots)}function Za(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Ue(r,!1,i-s)}function ec(t){return lt(t[0])?t[0].outlets:{[v]:t}}function Hs(t,e,n){if(t??=new y([],{}),t.segments.length===0&&t.hasChildren())return at(t,e,n);let r=tc(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new y(t.segments.slice(0,r.pathIndex),{});return s.children[v]=new y(t.segments.slice(r.pathIndex),t.children),at(s,0,i)}else return r.match&&i.length===0?new y(t.segments,{}):r.match&&!t.hasChildren()?ir(t,e,n):r.match?at(t,0,i):ir(t,e,n)}function at(t,e,n){if(n.length===0)return new y(t.segments,{});{let r=ec(n),i={};if(Object.keys(r).some(s=>s!==v)&&t.children[v]&&t.numberOfChildren===1&&t.children[v].segments.length===0){let s=at(t.children[v],e,n);return new y(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Hs(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new y(t.segments,i)}}function tc(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(lt(a))break;let c=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ps(c,u,o))return s;r+=2}else{if(!Ps(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ir(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(lt(s)){let c=nc(s.outlets);return new y(r,c)}if(i===0&&Bt(n[0])){let c=t.segments[e];r.push(new ve(c.path,Cs(n[0]))),i++;continue}let o=lt(s)?s.outlets[v]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bt(a)?(r.push(new ve(o,Cs(a))),i+=2):(r.push(new ve(o,{})),i++)}return new y(r,{})}function nc(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ir(new y([],{}),0,r))}),e}function Cs(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Ps(t,e,n){return t==n.path&&z(e,n.parameters)}var ct="imperative",S=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(S||{}),U=class{constructor(e,n){this.id=e,this.url=n}},dt=class extends U{constructor(e,n,r="imperative",i=null){super(e,n),this.type=S.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_e=class extends U{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=S.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},N=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(N||{}),sr=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(sr||{}),se=class extends U{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=S.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ye=class extends U{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=S.NavigationSkipped}},ht=class extends U{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=S.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gt=class extends U{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=S.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},or=class extends U{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=S.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ar=class extends U{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=S.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},cr=class extends U{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=S.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ur=class extends U{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=S.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},lr=class{constructor(e){this.route=e,this.type=S.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},dr=class{constructor(e){this.route=e,this.type=S.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hr=class{constructor(e){this.snapshot=e,this.type=S.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fr=class{constructor(e){this.snapshot=e,this.type=S.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pr=class{constructor(e){this.snapshot=e,this.type=S.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gr=class{constructor(e){this.snapshot=e,this.type=S.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ft=class{},pt=class{constructor(e){this.url=e}};var mr=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new en,this.attachRef=null}},en=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new mr,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Kt=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=vr(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=vr(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Ir(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ir(e,this._root).map(n=>n.value)}};function vr(t,e){if(t===e.value)return e;for(let n of e.children){let r=vr(t,n);if(r)return r}return null}function Ir(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Ir(t,n);if(r.length)return r.unshift(e),r}return[]}var k=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Me(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Jt=class extends Kt{constructor(e,n){super(e),this.snapshot=n,Pr(this,e)}toString(){return this.snapshot.toString()}};function Bs(t){let e=rc(t),n=new L([new ve("",{})]),r=new L({}),i=new L({}),s=new L({}),o=new L(""),a=new je(n,r,s,o,i,v,t,e.root);return a.snapshot=e.root,new Jt(new k(a,[]),e)}function rc(t){let e={},n={},r={},i="",s=new gt([],e,r,i,n,v,t,null,{});return new Yt("",new k(s,[]))}var je=class{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(u=>u[It]))??m(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(e=>Fe(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(e=>Fe(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cr(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),t.params),data:p(p({},e.data),t.data),resolve:p(p(p(p({},t.data),e.data),i?.data),t._resolvedData)}:r={params:p({},t.params),data:p({},t.data),resolve:p(p({},t.data),t._resolvedData??{})},i&&Gs(i)&&(r.resolve[It]=i.title),r}var gt=class{get title(){return this.data?.[It]}constructor(e,n,r,i,s,o,a,c,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Fe(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Fe(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Yt=class extends Kt{constructor(e,n){super(n),this.url=e,Pr(this,n)}toString(){return qs(this._root)}};function Pr(t,e){e.value._routerState=t,e.children.forEach(n=>Pr(t,n))}function qs(t){let e=t.children.length>0?` { ${t.children.map(qs).join(", ")} } `:"";return`${t.value}${e}`}function Xn(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,z(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),z(e.params,n.params)||t.paramsSubject.next(n.params),Na(e.url,n.url)||t.urlSubject.next(n.url),z(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function _r(t,e){let n=z(t.params,e.params)&&Ua(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||_r(t.parent,e.parent))}function Gs(t){return typeof t.title=="string"||t.title===null}var ic=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=v,this.activateEvents=new rt,this.deactivateEvents=new rt,this.attachEvents=new rt,this.detachEvents=new rt,this.parentContexts=I(en),this.location=I(ps),this.changeDetector=I(Jn),this.environmentInjector=I(xt),this.inputBinder=I(Or,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,u=new yr(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ls({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[hs]});let t=e;return t})(),yr=class{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r,this.__ngOutletInjector=!0}get(e,n){return e===je?this.route:e===en?this.childContexts:this.parent.get(e,n)}},Or=new O("");function sc(t,e,n){let r=mt(t,e._root,n?n._root:void 0);return new Jt(r,e)}function mt(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=oc(t,e,n);return new k(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>mt(t,a)),o}}let r=ac(e.value),i=e.children.map(s=>mt(t,s));return new k(r,i)}}function oc(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return mt(t,r,i);return mt(t,r)})}function ac(t){return new je(new L(t.url),new L(t.params),new L(t.queryParams),new L(t.fragment),new L(t.data),t.outlet,t.component,t)}var Ks="ngNavigationCancelingError";function Js(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$e(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ys(!1,N.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ys(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Ks]=!0,n.cancellationCode=e,n}function cc(t){return Qs(t)&&$e(t.url)}function Qs(t){return!!t&&t[Ks]}var uc=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=us({type:e,selectors:[["ng-component"]],standalone:!0,features:[_s],decls:1,vars:0,template:function(i,s){i&1&&Is(0,"router-outlet")},dependencies:[ic],encapsulation:2});let t=e;return t})();function lc(t,e){return t.providers&&!t._injector&&(t._injector=ms(t.providers,e,`Route: ${t.path}`)),t._injector??e}function kr(t){let e=t.children&&t.children.map(kr),n=e?R(p({},t),{children:e}):p({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==v&&(n.component=uc),n}function H(t){return t.outlet||v}function dc(t,e){let n=t.filter(r=>H(r)===e);return n.push(...t.filter(r=>H(r)!==e)),n}function _t(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var hc=(t,e,n,r)=>E(i=>(new wr(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),wr=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xn(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Me(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Me(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Me(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Me(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new gr(s.value.snapshot))}),e.children.length&&this.forwardEvent(new fr(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(Xn(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Xn(a.route.value),this.activateChildRoutes(e,null,o.children)}else{let a=_t(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}},Qt=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},xe=class{constructor(e,n){this.component=e,this.route=n}};function fc(t,e,n){let r=t._root,i=e?e._root:null;return st(r,i,n,[r.value])}function pc(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function We(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!cs(t)?t:e.get(t):r}function st(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Me(e);return t.children.forEach(o=>{gc(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ut(a,n.getContext(o),i)),i}function gc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=mc(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Qt(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?st(t,e,a?a.children:null,r,i):st(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new xe(a.outlet.component,o))}else o&&ut(e,a,i),i.canActivateChecks.push(new Qt(r)),s.component?st(t,null,a?a.children:null,r,i):st(t,null,n,r,i);return i}function mc(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Ie(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Ie(t.url,e.url)||!z(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_r(t,e)||!z(t.queryParams,e.queryParams);case"paramsChange":default:return!_r(t,e)}}function ut(t,e,n){let r=Me(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?ut(o,e.children.getContext(s),n):ut(o,null,n):ut(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new xe(e.outlet.component,i)):n.canDeactivateChecks.push(new xe(null,i)):n.canDeactivateChecks.push(new xe(null,i))}function yt(t){return typeof t=="function"}function vc(t){return typeof t=="boolean"}function Ic(t){return t&&yt(t.canLoad)}function _c(t){return t&&yt(t.canActivate)}function yc(t){return t&&yt(t.canActivateChild)}function wc(t){return t&&yt(t.canDeactivate)}function Ec(t){return t&&yt(t.canMatch)}function Xs(t){return t instanceof ts||t?.name==="EmptyError"}var jt=Symbol("INITIAL_VALUE");function Ve(){return V(t=>Vn(t.map(e=>e.pipe(Ne(1),os(jt)))).pipe(E(e=>{for(let n of e)if(n!==!0){if(n===jt)return jt;if(n===!1||n instanceof ie)return n}return!0}),Oe(e=>e!==jt),Ne(1)))}function Tc(t,e){return M(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?m(R(p({},n),{guardsResult:!0})):bc(o,r,i,t).pipe(M(a=>a&&vc(a)?Sc(r,s,t,e):m(a)),E(a=>R(p({},n),{guardsResult:a})))})}function bc(t,e,n,r){return x(t).pipe(M(i=>Oc(i.component,i.route,n,e,r)),te(i=>i!==!0,!0))}function Sc(t,e,n,r){return x(e).pipe(et(i=>ns(Rc(i.route.parent,r),Ac(i.route,r),Pc(t,i.path,n),Cc(t,i.route,n))),te(i=>i!==!0,!0))}function Ac(t,e){return t!==null&&e&&e(new pr(t)),m(!0)}function Rc(t,e){return t!==null&&e&&e(new hr(t)),m(!0)}function Cc(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return m(!0);let i=r.map(s=>Wn(()=>{let o=_t(e)??n,a=We(s,o),c=_c(a)?a.canActivate(e,t):me(o,()=>a(e,t));return oe(c).pipe(te())}));return m(i).pipe(Ve())}function Pc(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>pc(o)).filter(o=>o!==null).map(o=>Wn(()=>{let a=o.guards.map(c=>{let u=_t(o.node)??n,d=We(c,u),h=yc(d)?d.canActivateChild(r,t):me(u,()=>d(r,t));return oe(h).pipe(te())});return m(a).pipe(Ve())}));return m(s).pipe(Ve())}function Oc(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return m(!0);let o=s.map(a=>{let c=_t(e)??i,u=We(a,c),d=wc(u)?u.canDeactivate(t,e,n,r):me(c,()=>u(t,e,n,r));return oe(d).pipe(te())});return m(o).pipe(Ve())}function kc(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return m(!0);let s=i.map(o=>{let a=We(o,t),c=Ic(a)?a.canLoad(e,n):me(t,()=>a(e,n));return oe(c)});return m(s).pipe(Ve(),Zs(r))}function Zs(t){return Qi(T(e=>{if($e(e))throw Js(t,e)}),E(e=>e===!0))}function Nc(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return m(!0);let s=i.map(o=>{let a=We(o,t),c=Ec(a)?a.canMatch(e,n):me(t,()=>a(e,n));return oe(c)});return m(s).pipe(Ve(),Zs(r))}var vt=class{constructor(e){this.segmentGroup=e||null}},Xt=class extends Error{constructor(e){super(),this.urlTree=e}};function Le(t){return Ze(new vt(t))}function Dc(t){return Ze(new C(4e3,!1))}function Lc(t){return Ze(Ys(!1,N.GuardRejected))}var Er=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return m(r);if(i.numberOfChildren>1||!i.children[v])return Dc(e.redirectTo);i=i.children[v]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new Xt(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new ie(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s.startsWith(":")){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new y(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Tr={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mc(t,e,n,r,i){let s=Nr(t,e,n);return s.matched?(r=lc(e,r),Nc(r,e,n,i).pipe(E(o=>o===!0?s:p({},Tr)))):m(s)}function Nr(t,e,n){if(e.path==="**")return Uc(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?p({},Tr):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ka)(n,t,e);if(!i)return p({},Tr);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Uc(t){return{matched:!0,parameters:t.length>0?Ns(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function Os(t,e,n,r){return n.length>0&&$c(t,n,r)?{segmentGroup:new y(e,Fc(r,new y(n,t.children))),slicedSegments:[]}:n.length===0&&jc(t,n,r)?{segmentGroup:new y(t.segments,xc(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new y(t.segments,t.children),slicedSegments:n}}function xc(t,e,n,r){let i={};for(let s of n)if(tn(t,e,s)&&!r[H(s)]){let o=new y([],{});i[H(s)]=o}return p(p({},r),i)}function Fc(t,e){let n={};n[v]=e;for(let r of t)if(r.path===""&&H(r)!==v){let i=new y([],{});n[H(r)]=i}return n}function $c(t,e,n){return n.some(r=>tn(t,e,r)&&H(r)!==v)}function jc(t,e,n){return n.some(r=>tn(t,e,r))}function tn(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function Vc(t,e,n,r){return H(t)!==r&&(r===v||!tn(e,n,t))?!1:Nr(e,t,n).matched}function Wc(t,e,n){return e.length===0&&!t.children[n]}var br=class{};function zc(t,e,n,r,i,s,o="emptyOnly"){return new Sr(t,e,n,r,i,o,s).recognize()}var Hc=31,Sr=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Er(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=Os(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(E(n=>{let r=new gt([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,{},v,this.rootComponentType,null,{}),i=new k(r,n),s=new Yt("",i),o=Ya(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,v).pipe(ke(r=>{if(r instanceof Xt)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof vt?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Cr(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(s=>this.inheritParamsAndData(s,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(E(s=>s instanceof k?[s]:[]))}processChildren(e,n,r){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return x(i).pipe(et(s=>{let o=r.children[s],a=dc(n,s);return this.processSegmentGroup(e,a,o,s)}),ss((s,o)=>(s.push(...o),s)),zn(null),is(),M(s=>{if(s===null)return Le(r);let o=eo(s);return Bc(o),m(o)}))}processSegment(e,n,r,i,s,o){return x(n).pipe(et(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(ke(c=>{if(c instanceof vt)return m(null);throw c}))),te(a=>!!a),ke(a=>{if(Xs(a))return Wc(r,i,s)?m(new br):Le(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return Vc(r,i,s,o)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):Le(i):Le(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){let{matched:a,consumedSegments:c,positionalParamSegments:u,remainingSegments:d}=Nr(n,i,s);if(!a)return Le(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Hc&&(this.allowRedirects=!1));let h=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return this.applyRedirects.lineralizeSegments(i,h).pipe(M(f=>this.processSegment(e,r,n,f.concat(d),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){let o=Mc(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),o.pipe(V(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(V(({routes:c})=>{let u=r._loadedInjector??e,{consumedSegments:d,remainingSegments:h,parameters:f}=a,_=new gt(d,f,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Gc(r),H(r),r.component??r._loadedComponent??null,r,Kc(r)),{segmentGroup:D,slicedSegments:Z}=Os(n,d,h,c);if(Z.length===0&&D.hasChildren())return this.processChildren(u,c,D).pipe(E(j=>j===null?null:new k(_,j)));if(c.length===0&&Z.length===0)return m(new k(_,[]));let fe=H(r)===s;return this.processSegment(u,c,D,Z,fe?v:s,!0).pipe(E(j=>new k(_,j instanceof k?[j]:[])))}))):Le(n)))}getChildConfig(e,n,r){return n.children?m({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?m({routes:n._loadedRoutes,injector:n._loadedInjector}):kc(e,n,r,this.urlSerializer).pipe(M(i=>i?this.configLoader.loadChildren(e,n).pipe(T(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):Lc(n))):m({routes:[],injector:e})}};function Bc(t){t.sort((e,n)=>e.value.outlet===v?-1:n.value.outlet===v?1:e.value.outlet.localeCompare(n.value.outlet))}function qc(t){let e=t.value.routeConfig;return e&&e.path===""}function eo(t){let e=[],n=new Set;for(let r of t){if(!qc(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=eo(r.children);e.push(new k(r.value,i))}return e.filter(r=>!n.has(r))}function Gc(t){return t.data||{}}function Kc(t){return t.resolve||{}}function Jc(t,e,n,r,i,s){return M(o=>zc(t,e,n,r,o.extractedUrl,i,s).pipe(E(({state:a,tree:c})=>R(p({},o),{targetSnapshot:a,urlAfterRedirects:c}))))}function Yc(t,e){return M(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return m(n);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of to(c))o.add(u);let a=0;return x(o).pipe(et(c=>s.has(c)?Qc(c,r,t,e):(c.data=Cr(c,c.parent,t).resolve,m(void 0))),T(()=>a++),Hn(1),M(c=>a===o.size?m(n):ee))})}function to(t){let e=t.children.map(n=>to(n)).flat();return[t,...e]}function Qc(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!Gs(i)&&(s[It]=i.title),Xc(s,t,e,r).pipe(E(o=>(t._resolvedData=o,t.data=Cr(t,t.parent,n).resolve,null)))}function Xc(t,e,n,r){let i=tr(t);if(i.length===0)return m({});let s={};return x(i).pipe(M(o=>Zc(t[o],e,n,r).pipe(te(),T(a=>{s[o]=a}))),Hn(1),rs(s),ke(o=>Xs(o)?ee:Ze(o)))}function Zc(t,e,n,r){let i=_t(e)??r,s=We(t,i),o=s.resolve?s.resolve(e,n):me(i,()=>s(e,n));return oe(o)}function Zn(t){return V(e=>{let n=t(e);return n?x(n).pipe(E(()=>e)):m(e)})}var no=(()=>{let e=class e{buildTitle(r){let i,s=r.root;for(;s!==void 0;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===v);return i}getResolvedTitleForRoute(r){return r.data[It]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(eu),providedIn:"root"});let t=e;return t})(),eu=(()=>{let e=class e extends no{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ne(Ss))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Dr=new O("",{providedIn:"root",factory:()=>({})}),Lr=new O(""),tu=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Kn)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return m(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=oe(r.loadComponent()).pipe(E(ro),T(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),Ut(()=>{this.componentLoaders.delete(r)})),s=new xn(i,()=>new ge).pipe(Un());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return m({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=nu(i,this.compiler,r,this.onLoadEndListener).pipe(Ut(()=>{this.childrenLoaders.delete(i)})),a=new xn(o,()=>new ge).pipe(Un());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function nu(t,e,n,r){return oe(t.loadChildren()).pipe(E(ro),M(i=>i instanceof gs||Array.isArray(i)?m(i):x(e.compileModuleAsync(i))),E(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Lr,[],{optional:!0,self:!0}).flat()),{routes:o.map(kr),injector:s}}))}function ru(t){return t&&typeof t=="object"&&"default"in t}function ro(t){return ru(t)?t.default:t}var Mr=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(iu),providedIn:"root"});let t=e;return t})(),iu=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),su=new O("");var ou=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ge,this.transitionAbortSubject=new ge,this.configLoader=I(tu),this.environmentInjector=I(xt),this.urlSerializer=I(Rr),this.rootContexts=I(en),this.location=I(Ft),this.inputBindingEnabled=I(Or,{optional:!0})!==null,this.titleStrategy=I(no),this.options=I(Dr,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Mr),this.createViewTransition=I(su,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>m(void 0),this.rootComponentType=null;let r=s=>this.events.next(new lr(s)),i=s=>this.events.next(new dr(s));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(R(p(p({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,s){return this.transitions=new L({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ct,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Oe(o=>o.id!==0),E(o=>R(p({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),V(o=>{let a=!1,c=!1;return m(o).pipe(V(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",N.SupersededByNewNavigation),ee;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?R(p({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!d&&h!=="reload"){let f="";return this.events.next(new ye(u.id,this.urlSerializer.serialize(u.rawUrl),f,sr.IgnoredSameUrlNavigation)),u.resolve(null),ee}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return m(u).pipe(V(f=>{let _=this.transitions?.getValue();return this.events.next(new dt(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),_!==this.transitions?.getValue()?ee:Promise.resolve(f)}),Jc(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),T(f=>{o.targetSnapshot=f.targetSnapshot,o.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=R(p({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let _=new Gt(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:f,extractedUrl:_,source:D,restoredState:Z,extras:fe}=u,j=new dt(f,this.urlSerializer.serialize(_),D,Z);this.events.next(j);let Mt=Bs(this.rootComponentType).snapshot;return this.currentTransition=o=R(p({},u),{targetSnapshot:Mt,urlAfterRedirects:_,extras:R(p({},fe),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,m(o)}else{let f="";return this.events.next(new ye(u.id,this.urlSerializer.serialize(u.extractedUrl),f,sr.IgnoredByUrlHandlingStrategy)),u.resolve(null),ee}}),T(u=>{let d=new or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),E(u=>(this.currentTransition=o=R(p({},u),{guards:fc(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),Tc(this.environmentInjector,u=>this.events.next(u)),T(u=>{if(o.guardsResult=u.guardsResult,$e(u.guardsResult))throw Js(this.urlSerializer,u.guardsResult);let d=new ar(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Oe(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",N.GuardRejected),!1)),Zn(u=>{if(u.guards.canActivateChecks.length)return m(u).pipe(T(d=>{let h=new cr(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}),V(d=>{let h=!1;return m(d).pipe(Yc(this.paramsInheritanceStrategy,this.environmentInjector),T({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(d,"",N.NoDataFromResolver)}}))}),T(d=>{let h=new ur(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}))}),Zn(u=>{let d=h=>{let f=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(h.routeConfig).pipe(T(_=>{h.component=_}),E(()=>{})));for(let _ of h.children)f.push(...d(_));return f};return Vn(d(u.targetSnapshot.root)).pipe(zn(null),Ne(1))}),Zn(()=>this.afterPreactivation()),V(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,h=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return h?x(h).pipe(E(()=>o)):m(o)}),E(u=>{let d=sc(r.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=R(p({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),T(()=>{this.events.next(new ft)}),hc(this.rootContexts,r.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ne(1),T({next:u=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _e(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{a=!0}}),as(this.transitionAbortSubject.pipe(T(u=>{throw u}))),Ut(()=>{!a&&!c&&this.cancelNavigationTransition(o,"",N.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),ke(u=>{if(c=!0,Qs(u))this.events.next(new se(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),cc(u)?this.events.next(new pt(u.url)):o.resolve(!1);else{this.events.next(new ht(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(u))}catch(d){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(d)}}return ee}))}))}cancelNavigationTransition(r,i,s){let o=new se(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function au(t){return t!==ct}var cu=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(uu),providedIn:"root"});let t=e;return t})(),Ar=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},uu=(()=>{let e=class e extends Ar{};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qn(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),io=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>I(lu),providedIn:"root"});let t=e;return t})(),lu=(()=>{let e=class e extends io{constructor(){super(...arguments),this.location=I(Ft),this.urlSerializer=I(Rr),this.options=I(Dr,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Mr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ie,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Bs(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof dt)this.stateMemento=this.createStateMemento();else if(r instanceof ye)this.rawUrlTree=i.initialUrl;else if(r instanceof Gt){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let s=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(s,i)}}else r instanceof ft?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof se&&(r.code===N.GuardRejected||r.code===N.NoDataFromResolver)?this.restoreHistory(i):r instanceof ht?this.restoreHistory(i,!0):r instanceof _e&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){let o=this.browserPageId,a=p(p({},i.extras.state),this.generateNgRouterState(i.id,o));this.location.replaceState(s,"",a)}else{let o=p(p({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(s,"",o)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let s=this.browserPageId,o=this.currentPageId-s;o!==0?this.location.historyGo(o):this.currentUrlTree===r.finalUrl&&o===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(s){return(r||(r=qn(e)))(s||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ot=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ot||{});function du(t,e){t.events.pipe(Oe(n=>n instanceof _e||n instanceof se||n instanceof ht||n instanceof ye),E(n=>n instanceof _e||n instanceof ye?ot.COMPLETE:(n instanceof se?n.code===N.Redirect||n.code===N.SupersededByNewNavigation:!1)?ot.REDIRECTING:ot.FAILED),Oe(n=>n!==ot.REDIRECTING),Ne(1)).subscribe(()=>{e()})}function hu(t){throw t}var fu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},pu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},so=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=I(ws),this.stateManager=I(io),this.options=I(Dr,{optional:!0})||{},this.pendingTasks=I(vs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(ou),this.urlSerializer=I(Rr),this.location=I(Ft),this.urlHandlingStrategy=I(Mr),this._events=new ge,this.errorHandler=this.options.errorHandler||hu,this.navigated=!1,this.routeReuseStrategy=I(cu),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(Lr,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Or,{optional:!0}),this.eventsSubscription=new Yi,this.isNgZoneEnabled=I(W)instanceof W&&W.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let s=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(s!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof se&&i.code!==N.Redirect&&i.code!==N.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _e)this.navigated=!0;else if(i instanceof pt){let a=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),c={info:s.extras.info,skipLocationChange:s.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||au(s.source)};this.scheduleNavigation(a,ct,null,c,{resolve:s.resolve,reject:s.reject,promise:s.promise})}}mu(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ct,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,s){let o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){let u=p({},s);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(kr),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:u}=i,d=u?this.currentUrlTree.fragment:a,h=null;switch(c){case"merge":h=p(p({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let f;try{let _=s?s.snapshot:this.routerState.snapshot.root;f=Vs(_)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return Ws(f,r,h,d??null)}navigateByUrl(r,i={skipLocationChange:!1}){let s=$e(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,ct,null,i)}navigate(r,i={skipLocationChange:!1}){return gu(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let s;if(i===!0?s=p({},fu):i===!1?s=p({},pu):s=i,$e(r))return As(this.currentUrlTree,r,s);let o=this.parseUrl(r);return As(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.entries(r).reduce((i,[s,o])=>(o!=null&&(i[s]=o),i),{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,u,d;a?(c=a.resolve,u=a.reject,d=a.promise):d=new Promise((f,_)=>{c=f,u=_});let h=this.pendingTasks.add();return du(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:o,resolve:c,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function gu(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function mu(t){return!(t instanceof ft)&&!(t instanceof pt)}var vu=new O("");function yp(t,...e){return ds([{provide:Lr,multi:!0,useValue:t},[],{provide:je,useFactory:Iu,deps:[so]},{provide:Ts,multi:!0,useFactory:_u},e.map(n=>n.\u0275providers)])}function Iu(t){return t.routerState.root}function _u(){let t=I(De);return e=>{let n=t.get(bs);if(e!==n.components[0])return;let r=t.get(so),i=t.get(yu);t.get(wu)===1&&r.initialNavigation(),t.get(Eu,null,Bn.Optional)?.setUpPreloading(),t.get(vu,null,Bn.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var yu=new O("",{factory:()=>new ge}),wu=new O("",{providedIn:"root",factory:()=>1});var Eu=new O("");var ao=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tu=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},co={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,f=(a&15)<<2|u>>6,_=u&63;c||(_=64,o||(f=64)),r.push(n[d],n[h],n[f],n[_])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ao(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Tu(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new xr;let f=s<<2|a>>4;if(r.push(f),u!==64){let _=a<<4&240|u>>2;if(r.push(_),h!==64){let D=u<<6&192|h;r.push(D)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},xr=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},bu=function(t){let e=ao(t);return co.encodeByteArray(e,!0)},wt=function(t){return bu(t).replace(/\./g,"")},$r=function(t){try{return co.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Su(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Au=()=>Su().__FIREBASE_DEFAULTS__,Ru=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Cu=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$r(t[1]);return e&&JSON.parse(e)},rn=()=>{try{return Au()||Ru()||Cu()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jr=t=>{var e,n;return(n=(e=rn())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tp=t=>{let e=jr(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vr=()=>{var t;return(t=rn())===null||t===void 0?void 0:t.config},Wr=t=>{var e;return(e=rn())===null||e===void 0?void 0:e[`_${t}`]};var nn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function bp(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wt(JSON.stringify(n)),wt(JSON.stringify(o)),""].join(".")}function A(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())}function Pu(){var t;let e=(t=rn())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function lo(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ho(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fo(){let t=A();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Sp(){return!Pu()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function po(){try{return typeof indexedDB=="object"}catch{return!1}}function go(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var Ou="FirebaseError",F=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Ou,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J.prototype.create)}},J=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?ku(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new F(i,a,r)}};function ku(t,e){return t.replace(Nu,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Nu=/\{\$([^}]+)}/g;function mo(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ze(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(oo(s)&&oo(o)){if(!ze(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function oo(t){return t!==null&&typeof t=="object"}function Et(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function He(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Be(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function vo(t,e){let n=new Fr(t,e);return n.subscribe.bind(n)}var Fr=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Du(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ur),i.error===void 0&&(i.error=Ur),i.complete===void 0&&(i.complete=Ur);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Du(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ur(){}var Ap=4*60*60*1e3;function ae(t){return t&&t._delegate?t._delegate:t}var B=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var we="[DEFAULT]";var zr=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new nn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Mu(e))try{this.getOrInitializeService({instanceIdentifier:we})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=we){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=we){return this.instances.has(e)}getOptions(e=we){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lu(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=we){return this.component?this.component.multipleInstances?e:we:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Lu(t){return t===we?void 0:t}function Mu(t){return t.instantiationMode==="EAGER"}var sn=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new zr(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Uu=[],w=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(w||{}),xu={debug:w.DEBUG,verbose:w.VERBOSE,info:w.INFO,warn:w.WARN,error:w.ERROR,silent:w.SILENT},Fu=w.INFO,$u={[w.DEBUG]:"log",[w.VERBOSE]:"log",[w.INFO]:"info",[w.WARN]:"warn",[w.ERROR]:"error"},ju=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=$u[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},qe=class{constructor(e){this.name=e,this._logLevel=Fu,this._logHandler=ju,this._userLogHandler=null,Uu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in w))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xu[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,w.DEBUG,...e),this._logHandler(this,w.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,w.VERBOSE,...e),this._logHandler(this,w.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,w.INFO,...e),this._logHandler(this,w.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,w.WARN,...e),this._logHandler(this,w.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,w.ERROR,...e),this._logHandler(this,w.ERROR,...e)}};var Vu=(t,e)=>e.some(n=>t instanceof n),Io,_o;function Wu(){return Io||(Io=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zu(){return _o||(_o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yo=new WeakMap,Br=new WeakMap,wo=new WeakMap,Hr=new WeakMap,Gr=new WeakMap;function Hu(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(q(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&yo.set(n,t)}).catch(()=>{}),Gr.set(e,t),e}function Bu(t){if(Br.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Br.set(t,e)}var qr={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Br.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wo.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return q(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Eo(t){qr=t(qr)}function qu(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(on(this),e,...n);return wo.set(r,e.sort?e.sort():[e]),q(r)}:zu().includes(t)?function(...e){return t.apply(on(this),e),q(yo.get(this))}:function(...e){return q(t.apply(on(this),e))}}function Gu(t){return typeof t=="function"?qu(t):(t instanceof IDBTransaction&&Bu(t),Vu(t,Wu())?new Proxy(t,qr):t)}function q(t){if(t instanceof IDBRequest)return Hu(t);if(Hr.has(t))return Hr.get(t);let e=Gu(t);return e!==t&&(Hr.set(t,e),Gr.set(e,t)),e}var on=t=>Gr.get(t);function bo(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=q(o);return r&&o.addEventListener("upgradeneeded",c=>{r(q(o.result),c.oldVersion,c.newVersion,q(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Ku=["get","getKey","getAll","getAllKeys","count"],Ju=["put","add","delete","clear"],Kr=new Map;function To(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kr.get(e))return Kr.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Ju.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ku.includes(n)))return;let s=function(o,...a){return l(this,null,function*(){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&c.done]))[0]})};return Kr.set(e,s),s}Eo(t=>R(p({},t),{get:(e,n,r)=>To(e,n)||t.get(e,n,r),has:(e,n)=>!!To(e,n)||t.has(e,n)}));var Yr=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yu(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Yu(t){let e=t.getComponent();return e?.type==="VERSION"}var Qr="@firebase/app",So="0.10.2";var Ee=new qe("@firebase/app"),Qu="@firebase/app-compat",Xu="@firebase/analytics-compat",Zu="@firebase/analytics",el="@firebase/app-check-compat",tl="@firebase/app-check",nl="@firebase/auth",rl="@firebase/auth-compat",il="@firebase/database",sl="@firebase/database-compat",ol="@firebase/functions",al="@firebase/functions-compat",cl="@firebase/installations",ul="@firebase/installations-compat",ll="@firebase/messaging",dl="@firebase/messaging-compat",hl="@firebase/performance",fl="@firebase/performance-compat",pl="@firebase/remote-config",gl="@firebase/remote-config-compat",ml="@firebase/storage",vl="@firebase/storage-compat",Il="@firebase/firestore",_l="@firebase/firestore-compat",yl="firebase",wl="10.11.1";var Xr="[DEFAULT]",El={[Qr]:"fire-core",[Qu]:"fire-core-compat",[Zu]:"fire-analytics",[Xu]:"fire-analytics-compat",[tl]:"fire-app-check",[el]:"fire-app-check-compat",[nl]:"fire-auth",[rl]:"fire-auth-compat",[il]:"fire-rtdb",[sl]:"fire-rtdb-compat",[ol]:"fire-fn",[al]:"fire-fn-compat",[cl]:"fire-iid",[ul]:"fire-iid-compat",[ll]:"fire-fcm",[dl]:"fire-fcm-compat",[hl]:"fire-perf",[fl]:"fire-perf-compat",[pl]:"fire-rc",[gl]:"fire-rc-compat",[ml]:"fire-gcs",[vl]:"fire-gcs-compat",[Il]:"fire-fst",[_l]:"fire-fst-compat","fire-js":"fire-js",[yl]:"fire-js-all"};var Tt=new Map,Tl=new Map,Zr=new Map;function Ao(t,e){try{t.container.addComponent(e)}catch(n){Ee.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ge(t){let e=t.name;if(Zr.has(e))return Ee.debug(`There were multiple attempts to register component ${e}.`),!1;Zr.set(e,t);for(let n of Tt.values())Ao(n,t);for(let n of Tl.values())Ao(n,t);return!0}function ri(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function $(t){return t.settings!==void 0}var bl={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new J("app","Firebase",bl);var ei=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new B("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}};var Ke=wl;function ii(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xr,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ce.create("bad-app-name",{appName:String(i)});if(n||(n=Vr()),!n)throw ce.create("no-options");let s=Tt.get(i);if(s){if(ze(n,s.options)&&ze(r,s.config))return s;throw ce.create("duplicate-app",{appName:i})}let o=new sn(i);for(let c of Zr.values())o.addComponent(c);let a=new ei(n,r,o);return Tt.set(i,a),a}function an(t=Xr){let e=Tt.get(t);if(!e&&t===Xr&&Vr())return ii();if(!e)throw ce.create("no-app",{appName:t});return e}function cn(){return Array.from(Tt.values())}function P(t,e,n){var r;let i=(r=El[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ee.warn(a.join(" "));return}Ge(new B(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sl="firebase-heartbeat-database",Al=1,bt="firebase-heartbeat-store",Jr=null;function Oo(){return Jr||(Jr=bo(Sl,Al,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bt)}catch(n){console.warn(n)}}}}).catch(t=>{throw ce.create("idb-open",{originalErrorMessage:t.message})})),Jr}function Rl(t){return l(this,null,function*(){try{let n=(yield Oo()).transaction(bt),r=yield n.objectStore(bt).get(ko(t));return yield n.done,r}catch(e){if(e instanceof F)Ee.warn(e.message);else{let n=ce.create("idb-get",{originalErrorMessage:e?.message});Ee.warn(n.message)}}})}function Ro(t,e){return l(this,null,function*(){try{let r=(yield Oo()).transaction(bt,"readwrite");yield r.objectStore(bt).put(e,ko(t)),yield r.done}catch(n){if(n instanceof F)Ee.warn(n.message);else{let r=ce.create("idb-set",{originalErrorMessage:n?.message});Ee.warn(r.message)}}})}function ko(t){return`${t.name}!${t.options.appId}`}var Cl=1024,Pl=30*24*60*60*1e3,ti=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new ni(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,n;let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Co();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Pl}),this._storage.overwrite(this._heartbeatsCache)})}getHeartbeatsHeader(){return l(this,null,function*(){var e;if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Co(),{heartbeatsToSend:r,unsentEntries:i}=Ol(this._heartbeatsCache.heartbeats),s=wt(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s})}};function Co(){return new Date().toISOString().substring(0,10)}function Ol(t,e=Cl){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Po(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Po(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var ni=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return po()?go().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Rl(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ro(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ro(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Po(t){return wt(JSON.stringify({version:2,heartbeats:t})).length}function kl(t){Ge(new B("platform-logger",e=>new Yr(e),"PRIVATE")),Ge(new B("heartbeat",e=>new ti(e),"PRIVATE")),P(Qr,So,t),P(Qr,So,"esm2017"),P("fire-js","")}kl("");var Nl="firebase",Dl="10.11.1";P(Nl,Dl,"app");var St=new Gn("ANGULARFIRE2_VERSION");function No(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var oi=(t,e)=>{let n=e?[e]:cn(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},un=class{constructor(){return oi(Ll)}},Ll="app-check";function Je(){}var ln=class{zone;delegate;constructor(e,n=Zi){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},si=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je)),n.pipe(T({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},dn=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new ln(Zone.current)),this.insideAngular=n.run(()=>new ln(Zone.current,Xi)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ne(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function hn(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ml(t){return hn().ngZone.runOutsideAngular(()=>t())}function Te(t){return hn().ngZone.run(()=>t())}function Ul(t){return xl(hn())(t)}function xl(t){return function(n){return n=n.lift(new si(t.ngZone)),n.pipe(jn(t.outsideAngular),$n(t.insideAngular))}}var Fl=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Te(()=>t.apply(void 0,r))},Ye=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Te(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Je,{},Je,Je))),r[s]=Fl(r[s],n));let i=Ml(()=>t.apply(this,r));if(!e)if(i instanceof Mn){let s=hn();return i.pipe(jn(s.outsideAngular),$n(s.insideAngular))}else return Te(()=>i);return i instanceof Mn?i.pipe(Ul):i instanceof Promise?Te(()=>new Promise((s,o)=>i.then(a=>Te(()=>s(a)),a=>Te(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Te(()=>i)};var be=class{constructor(e){return e}},At=class{constructor(){return cn()}};function $l(t){return t&&t.length===1?t[0]:new be(an())}var ai=new O("angularfire2._apps"),jl={provide:be,useFactory:$l,deps:[[new re,ai]]},Vl={provide:At,deps:[[new re,ai]]};function Wl(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new be(r)}}var zl=(()=>{class t{constructor(n){P("angularfire",St.full,"core"),P("angularfire",St.full,"app"),P("angular",ys.full,n.toString())}static \u0275fac=function(r){return new(r||t)(ne(fs))};static \u0275mod=nt({type:t});static \u0275inj=tt({providers:[jl,Vl]})}return t})();function lg(t,...e){return{ngModule:zl,providers:[{provide:ai,useFactory:Wl(t),multi:!0,deps:[W,De,dn,...e]}]}}var dg=Ye(ii,!0);function Jo(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Yo=Jo,Qo=new J("auth","Firebase",Jo());var In=new qe("@firebase/auth");function Hl(t,...e){In.logLevel<=w.WARN&&In.warn(`Auth (${Ke}): ${t}`,...e)}function pn(t,...e){In.logLevel<=w.ERROR&&In.error(`Auth (${Ke}): ${t}`,...e)}function K(t,...e){throw Oi(t,...e)}function Se(t,...e){return Oi(t,...e)}function Xo(t,e,n){let r=Object.assign(Object.assign({},Yo()),{[e]:n});return new J("auth","Firebase",r).create(e,{appName:t.name})}function X(t){return Xo(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Oi(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Qo.create(t,...e)}function g(t,e,...n){if(!t)throw Oi(e,...n)}function Y(t){let e="INTERNAL ASSERTION FAILED: "+t;throw pn(e),new Error(e)}function le(t,e){t||Y(e)}function di(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Bl(){return Do()==="http:"||Do()==="https:"}function Do(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ql(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bl()||lo()||"connection"in navigator)?navigator.onLine:!0}function Gl(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ae=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,le(n>e,"Short delay should be less than long delay!"),this.isMobile=uo()||ho()}get(){return ql()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function ki(t,e){le(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var _n=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Kl={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Jl=new Ae(3e4,6e4);function de(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function he(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){return Zo(t,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=Et(Object.assign({key:t.config.apiKey},d)).slice(1),f=yield t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),_n.fetch()(ea(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},u))}))})}function Zo(t,e,n){return l(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Kl),e);try{let i=new hi(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw fn(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw fn(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw fn(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw fn(t,"user-disabled",o);let d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Xo(t,d,u);K(t,d)}}catch(i){if(i instanceof F)throw i;K(t,"network-request-failed",{message:String(i)})}})}function Lt(s,o,a,c){return l(this,arguments,function*(t,e,n,r,i={}){let u=yield he(t,e,n,r,i);return"mfaPendingCredential"in u&&K(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function ea(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?ki(t.config,i):`${t.config.apiScheme}://${i}`}function Yl(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hi=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Se(this.auth,"network-request-failed")),Jl.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fn(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Se(t,e,r);return i.customData._tokenResponse=n,i}function Lo(t){return t!==void 0&&t.enterprise!==void 0}var fi=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Yl(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Ql(t,e){return l(this,null,function*(){return he(t,"GET","/v2/recaptchaConfig",de(t,e))})}function Xl(t,e){return l(this,null,function*(){return he(t,"POST","/v1/accounts:delete",e)})}function ta(t,e){return l(this,null,function*(){return he(t,"POST","/v1/accounts:lookup",e)})}function Rt(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ni(t,e=!1){return l(this,null,function*(){let n=ae(t),r=yield n.getIdToken(e),i=Di(r);g(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Rt(ci(i.auth_time)),issuedAtTime:Rt(ci(i.iat)),expirationTime:Rt(ci(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function ci(t){return Number(t)*1e3}function Di(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pn("JWT malformed, contained fewer than 3 sections"),null;try{let i=$r(n);return i?JSON.parse(i):(pn("Failed to decode base64 JWT payload"),null)}catch(i){return pn("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Mo(t){let e=Di(t);return g(e,"internal-error"),g(typeof e.exp<"u","internal-error"),g(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Pt(t,e,n=!1){return l(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof F&&Zl(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Zl({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var pi=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),n)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ot=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rt(this.lastLoginAt),this.creationTime=Rt(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function yn(t){return l(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Pt(t,ta(n,{idToken:r}));g(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?na(s.providerUserInfo):[],a=ed(t.providerData,o),c=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Ot(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function Li(t){return l(this,null,function*(){let e=ae(t);yield yn(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function ed(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function na(t){return t.map(e=>{var{providerId:n}=e,r=Fn(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function td(t,e){return l(this,null,function*(){let n=yield Zo(t,{},()=>l(this,null,function*(){let r=Et({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=ea(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_n.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function nd(t,e){return l(this,null,function*(){return he(t,"POST","/v2/accounts:revokeToken",de(t,e))})}var Ct=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){g(e.idToken,"internal-error"),g(typeof e.idToken<"u","internal-error"),g(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Mo(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){g(e.length!==0,"internal-error");let n=Mo(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return l(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(g(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield td(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(g(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(g(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(g(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Y("not implemented")}};function ue(t,e){g(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qe=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Fn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Ot(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let n=yield Pt(this,this.stsTokenManager.getToken(this.auth,e));return g(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ni(this,e)}reload(){return Li(this)}_assign(e){this!==e&&(g(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){g(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield yn(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if($(this.auth.app))return Promise.reject(X(this.auth));let e=yield this.getIdToken();return yield Pt(this,Xl(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,_=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,D=(o=n.photoURL)!==null&&o!==void 0?o:void 0,Z=(a=n.tenantId)!==null&&a!==void 0?a:void 0,fe=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,j=(u=n.createdAt)!==null&&u!==void 0?u:void 0,Mt=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:Nn,emailVerified:Gi,isAnonymous:Ki,providerData:Dn,stsTokenManager:Ji}=n;g(Nn&&Ji,e,"internal-error");let Pa=Ct.fromJSON(this.name,Ji);g(typeof Nn=="string",e,"internal-error"),ue(h,e.name),ue(f,e.name),g(typeof Gi=="boolean",e,"internal-error"),g(typeof Ki=="boolean",e,"internal-error"),ue(_,e.name),ue(D,e.name),ue(Z,e.name),ue(fe,e.name),ue(j,e.name),ue(Mt,e.name);let Ln=new t({uid:Nn,auth:e,email:f,emailVerified:Gi,displayName:h,isAnonymous:Ki,photoURL:D,phoneNumber:_,tenantId:Z,stsTokenManager:Pa,createdAt:j,lastLoginAt:Mt});return Dn&&Array.isArray(Dn)&&(Ln.providerData=Dn.map(Oa=>Object.assign({},Oa))),fe&&(Ln._redirectEventId=fe),Ln}static _fromIdTokenResponse(e,n,r=!1){return l(this,null,function*(){let i=new Ct;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield yn(s),s})}static _fromGetAccountInfoResponse(e,n,r){return l(this,null,function*(){let i=n.users[0];g(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?na(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ct;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Ot(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c})}};var Uo=new Map;function Q(t){le(t instanceof Function,"Expected a class definition");let e=Uo.get(t);return e?(le(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Uo.set(t,e),e)}var rd=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(n,r){return l(this,null,function*(){this.storage[n]=r})}_get(n){return l(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return l(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gi=rd;function gn(t,e,n){return`firebase:${t}:${e}:${n}`}var wn=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=gn(this.userKey,i.apiKey,s),this.fullPersistenceKey=gn("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qe._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return l(this,null,function*(){if(!n.length)return new t(Q(gi),e,r);let i=(yield Promise.all(n.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Q(gi),o=gn(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=Qe._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new t(s,e,r):(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function xo(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(sa(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ra(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aa(e))return"Blackberry";if(ca(e))return"Webos";if(Mi(e))return"Safari";if((e.includes("chrome/")||ia(e))&&!e.includes("edge/"))return"Chrome";if(oa(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function ra(t=A()){return/firefox\//i.test(t)}function Mi(t=A()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ia(t=A()){return/crios\//i.test(t)}function sa(t=A()){return/iemobile/i.test(t)}function oa(t=A()){return/android/i.test(t)}function aa(t=A()){return/blackberry/i.test(t)}function ca(t=A()){return/webos/i.test(t)}function Pn(t=A()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function id(t=A()){var e;return Pn(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sd(){return fo()&&document.documentMode===10}function ua(t=A()){return Pn(t)||oa(t)||ca(t)||aa(t)||/windows phone/i.test(t)||sa(t)}function od(){try{return!!(window&&window!==window.top)}catch{return!1}}function la(t,e=[]){let n;switch(t){case"Browser":n=xo(A());break;case"Worker":n=`${xo(A())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ke}/${r}`}var mi=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ad(n){return l(this,arguments,function*(t,e={}){return he(t,"GET","/v2/passwordPolicy",de(t,e))})}var cd=6,vi=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:cd,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ii=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new En(this),this.idTokenSubscription=new En(this),this.beforeStateQueue=new mi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qo,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Q(n)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield wn.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let n=yield ta(this,{idToken:e}),r=yield Qe._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var n;if($(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return g(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield yn(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Gl()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if($(this.app))return Promise.reject(X(this));let n=e?ae(e):null;return n&&g(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return l(this,null,function*(){if(!this._deleted)return e&&g(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return $(this.app)?Promise.reject(X(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return $(this.app)?Promise.reject(X(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Q(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield ad(this),n=new vi(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new J("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield nd(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Q(e)||this._popupRedirectResolver;g(n,this,"argument-error"),this.redirectPersistenceManager=yield wn.create(this,[Q(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(g(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return g(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=la(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return l(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Hl(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Ce(t){return ae(t)}var En=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vo(n=>this.observer=n)}get next(){return g(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var On={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ud(t){On=t}function da(t){return On.loadJS(t)}function ld(){return On.recaptchaEnterpriseScript}function dd(){return On.gapiScript}function ha(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var hd="recaptcha-enterprise",fd="NO_RECAPTCHA",_i=class{constructor(e){this.type=hd,this.auth=Ce(e)}verify(e="verify",n=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>l(this,null,function*(){Ql(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new fi(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})}))})}function i(s,o,a){let c=window.grecaptcha;Lo(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(fd)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&Lo(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ld();c.length!==0&&(c+=a),da(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})})}};function Fo(t,e,n,r=!1){return l(this,null,function*(){let i=new _i(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function yi(t,e,n,r){return l(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield Fo(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield Fo(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function Ui(t,e){let n=ri(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ze(s,e??{}))return i;K(i,"already-initialized")}return n.initialize({options:e})}function pd(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Q);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function xi(t,e,n){let r=Ce(t);g(r._canInitEmulator,r,"emulator-config-failed"),g(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=fa(e),{host:o,port:a}=gd(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||md()}function fa(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gd(t){let e=fa(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:$o(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:$o(o)}}}function $o(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function md(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var kt=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Y("not implemented")}_getIdTokenResponse(e){return Y("not implemented")}_linkToIdToken(e,n){return Y("not implemented")}_getReauthenticationResolver(e){return Y("not implemented")}};function vd(t,e){return l(this,null,function*(){return he(t,"POST","/v1/accounts:signUp",e)})}function Id(t,e){return l(this,null,function*(){return Lt(t,"POST","/v1/accounts:signInWithPassword",de(t,e))})}function _d(t,e){return l(this,null,function*(){return Lt(t,"POST","/v1/accounts:signInWithEmailLink",de(t,e))})}function yd(t,e){return l(this,null,function*(){return Lt(t,"POST","/v1/accounts:signInWithEmailLink",de(t,e))})}var Nt=class t extends kt{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yi(e,n,"signInWithPassword",Id);case"emailLink":return _d(e,{email:this._email,oobCode:this._password});default:K(e,"internal-error")}})}_linkToIdToken(e,n){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return yi(e,r,"signUpPassword",vd);case"emailLink":return yd(e,{idToken:n,email:this._email,oobCode:this._password});default:K(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function ui(t,e){return l(this,null,function*(){return Lt(t,"POST","/v1/accounts:signInWithIdp",de(t,e))})}function wd(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ed(t){let e=He(Be(t)).link,n=e?He(Be(e)).deep_link_id:null,r=He(Be(t)).deep_link_id;return(r?He(Be(r)).link:null)||r||n||e||t}var Tn=class t{constructor(e){var n,r,i,s,o,a;let c=He(Be(e)),u=(n=c.apiKey)!==null&&n!==void 0?n:null,d=(r=c.oobCode)!==null&&r!==void 0?r:null,h=wd((i=c.mode)!==null&&i!==void 0?i:null);g(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Ed(e);try{return new t(n)}catch{return null}}};var pa=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Nt._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Tn.parseLink(r);return g(i,"argument-error"),Nt._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),bn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var wi=class extends bn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function Td(t,e){return l(this,null,function*(){return Lt(t,"POST","/v1/accounts:signUp",de(t,e))})}var Xe=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return l(this,null,function*(){let s=yield Qe._fromIdTokenResponse(e,r,i),o=jo(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=jo(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function jo(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Ei=class t extends F{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function ga(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ei._fromErrorAndOperation(t,s,e,r):s})}function bd(t,e,n=!1){return l(this,null,function*(){let r=yield Pt(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Xe._forOperation(t,"link",r)})}function Sd(t,e,n=!1){return l(this,null,function*(){let{auth:r}=t;if($(r.app))return Promise.reject(X(r));let i="reauthenticate";try{let s=yield Pt(t,ga(r,i,e,t),n);g(s.idToken,r,"internal-error");let o=Di(s.idToken);g(o,r,"internal-error");let{sub:a}=o;return g(t.uid===a,r,"user-mismatch"),Xe._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&K(r,"user-mismatch"),s}})}function ma(t,e,n=!1){return l(this,null,function*(){if($(t.app))return Promise.reject(X(t));let r="signIn",i=yield ga(t,r,e),s=yield Xe._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Fi(t,e){return l(this,null,function*(){return ma(Ce(t),e)})}function va(t){return l(this,null,function*(){let e=Ce(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function $i(t,e,n){return l(this,null,function*(){if($(t.app))return Promise.reject(X(t));let r=Ce(t),o=yield yi(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Td).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&va(t),c}),a=yield Xe._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function ji(t,e,n){return $(t.app)?Promise.reject(X(t)):Fi(ae(t),pa.credential(e,n)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&va(t),r}))}function Vi(t,e,n,r){return ae(t).onIdTokenChanged(e,n,r)}function Wi(t,e,n){return ae(t).beforeAuthStateChanged(e,n)}var Sn="__sak";var An=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sn,"1"),this.storage.removeItem(Sn),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function Ad(){let t=A();return Mi(t)||Pn(t)}var Rd=1e3,Cd=10,Pd=(()=>{class t extends An{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ad()&&od(),this.fallbackToPolling=ua(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let a=this.storage.getItem(i);if(n.newValue!==a)n.newValue!==null?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);sd()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,Cd):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Rd)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return l(this,null,function*(){yield pe(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return l(this,null,function*(){let r=yield pe(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return l(this,null,function*(){yield pe(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),Ia=Pd;var Od=(()=>{class t extends An{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),zi=Od;function kd(t){return Promise.all(t.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Nd=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return l(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield kd(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function _a(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Ti=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=_a("",20);i.port1.start();let d=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function G(){return window}function Dd(t){G().location.href=t}function ya(){return typeof G().WorkerGlobalScope<"u"&&typeof G().importScripts=="function"}function Ld(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Md(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Ud(){return ya()?self:null}var wa="firebaseLocalStorageDb",xd=1,Rn="firebaseLocalStorage",Ea="fbase_key",Re=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function kn(t,e){return t.transaction([Rn],e?"readwrite":"readonly").objectStore(Rn)}function Fd(){let t=indexedDB.deleteDatabase(wa);return new Re(t).toPromise()}function bi(){let t=indexedDB.open(wa,xd);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rn,{keyPath:Ea})}catch(i){n(i)}}),t.addEventListener("success",()=>l(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Rn)?e(r):(r.close(),yield Fd(),e(yield bi()))}))})}function Vo(t,e,n){return l(this,null,function*(){let r=kn(t,!0).put({[Ea]:e,value:n});return new Re(r).toPromise()})}function $d(t,e){return l(this,null,function*(){let n=kn(t,!1).get(e),r=yield new Re(n).toPromise();return r===void 0?null:r.value})}function Wo(t,e){let n=kn(t,!0).delete(e);return new Re(n).toPromise()}var jd=800,Vd=3,Wd=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield bi(),this.db)})}_withRetries(n){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Vd)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return ya()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=Nd._getInstance(Ud()),this.receiver._subscribe("keyChanged",(n,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Ld(),!this.activeServiceWorker)return;this.sender=new Ti(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Md()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bi();return yield Vo(n,Sn,"1"),yield Wo(n,Sn),!0}catch{}return!1})}_withPendingWrite(n){return l(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Vo(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return l(this,null,function*(){let r=yield this._withRetries(i=>$d(i,n));return this.localCache[n]=r,r})}_remove(n){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Wo(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return l(this,null,function*(){let n=yield this._withRetries(s=>{let o=kn(s,!1).getAll();return new Re(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),jd)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),Ta=Wd;var _g=ha("rcb"),yg=new Ae(3e4,6e4);function zd(t,e){return e?Q(e):(g(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Dt=class extends kt{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ui(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Hd(t){return ma(t.auth,new Dt(t),t.bypassAuthState)}function Bd(t){let{auth:e,user:n}=t;return g(n,e,"internal-error"),Sd(n,new Dt(t),t.bypassAuthState)}function qd(t){return l(this,null,function*(){let{auth:e,user:n}=t;return g(n,e,"internal-error"),bd(n,new Dt(t),t.bypassAuthState)})}var Si=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(c))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hd;case"linkViaPopup":case"linkViaRedirect":return qd;case"reauthViaPopup":case"reauthViaRedirect":return Bd;default:K(this.auth,"internal-error")}}resolve(e){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){le(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var wg=new Ae(2e3,1e4);var Gd="pendingRedirect",mn=new Map,Ai=class t extends Si{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=mn.get(this.auth._key());if(!e){try{let r=(yield Kd(this.resolver,this.auth))?yield pe(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}mn.set(this.auth._key(),e)}return this.bypassAuthState||mn.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return pe(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,pe(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Kd(t,e){return l(this,null,function*(){let n=Qd(e),r=Yd(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function Jd(t,e){mn.set(t._key(),e)}function Yd(t){return Q(t._redirectPersistence)}function Qd(t){return gn(Gd,t.config.apiKey,t.name)}function Xd(t,e,n=!1){return l(this,null,function*(){if($(t.app))return Promise.reject(X(t));let r=Ce(t),i=zd(r,e),o=yield new Ai(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var Zd=10*60*1e3,Ri=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eh(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ba(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Se(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Zd&&this.cachedEventUids.clear(),this.cachedEventUids.has(zo(e))}saveEventToCache(e){this.cachedEventUids.add(zo(e)),this.lastProcessedEventTime=Date.now()}};function zo(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ba({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function eh(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ba(t);default:return!1}}function th(n){return l(this,arguments,function*(t,e={}){return he(t,"GET","/v1/projects",e)})}var nh=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rh=/^https?/;function ih(t){return l(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield th(t);for(let n of e)try{if(sh(n))return}catch{}K(t,"unauthorized-domain")})}function sh(t){let e=di(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rh.test(n))return!1;if(nh.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var oh=new Ae(3e4,6e4);function Ho(){let t=G().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function ah(t){return new Promise((e,n)=>{var r,i,s;function o(){Ho(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ho(),n(Se(t,"network-request-failed"))},timeout:oh.get()})}if(!((i=(r=G().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=G().gapi)===null||s===void 0)&&s.load)o();else{let a=ha("iframefcb");return G()[a]=()=>{gapi.load?o():n(Se(t,"network-request-failed"))},da(`${dd()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw vn=null,e})}var vn=null;function ch(t){return vn=vn||ah(t),vn}var uh=new Ae(5e3,15e3),lh="__/auth/iframe",dh="emulator/auth/iframe",hh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ph(t){let e=t.config;g(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?ki(e,dh):`https://${t.config.authDomain}/${lh}`,r={apiKey:e.apiKey,appName:t.name,v:Ke},i=fh.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Et(r).slice(1)}`}function gh(t){return l(this,null,function*(){let e=yield ch(t),n=G().gapi;return g(n,t,"internal-error"),e.open({where:document.body,url:ph(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hh,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Se(t,"network-request-failed"),a=G().setTimeout(()=>{s(o)},uh.get());function c(){G().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})})))})}var mh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vh=500,Ih=600,_h="_blank",yh="http://localhost",Cn=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function wh(t,e,n,r=vh,i=Ih){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},mh),{width:r.toString(),height:i.toString(),top:s,left:o}),u=A().toLowerCase();n&&(a=ia(u)?_h:n),ra(u)&&(e=e||yh,c.scrollbars="yes");let d=Object.entries(c).reduce((f,[_,D])=>`${f}${_}=${D},`,"");if(id(u)&&a!=="_self")return Eh(e||"",a),new Cn(null);let h=window.open(e||"",a,d);g(h,t,"popup-blocked");try{h.focus()}catch{}return new Cn(h)}function Eh(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Th="__/auth/handler",bh="emulator/auth/handler",Sh=encodeURIComponent("fac");function Bo(t,e,n,r,i,s){return l(this,null,function*(){g(t.config.authDomain,t,"auth-domain-config-required"),g(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ke,eventId:i};if(e instanceof bn){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",mo(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof wi){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let c=yield t._getAppCheckToken(),u=c?`#${Sh}=${encodeURIComponent(c)}`:"";return`${Ah(t)}?${Et(a).slice(1)}${u}`})}function Ah({config:t}){return t.emulator?ki(t,bh):`https://${t.authDomain}/${Th}`}var li="webStorageSupport",Ci=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=zi,this._completeRedirectFn=Xd,this._overrideRedirectResult=Jd}_openPopup(e,n,r,i){return l(this,null,function*(){var s;le((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Bo(e,n,r,di(),i);return wh(e,o,_a())})}_openRedirect(e,n,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Bo(e,n,r,di(),i);return Dd(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(le(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return l(this,null,function*(){let n=yield gh(e),r=new Ri(e);return n.register("authEvent",i=>(g(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(li,{type:li},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[li];o!==void 0&&n(!!o),K(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ih(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ua()||Mi()||Pn()}},Sa=Ci;var qo="@firebase/auth",Go="1.7.2";var Pi=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){g(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Rh(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ch(t){Ge(new B("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;g(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:la(t)},u=new Ii(r,i,s,c);return pd(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ge(new B("auth-internal",e=>{let n=Ce(e.getProvider("auth").getImmediate());return(r=>new Pi(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),P(qo,Go,Rh(t)),P(qo,Go,"esm2017")}var Ph=5*60,Oh=Wr("authIdTokenMaxAge")||Ph,Ko=null,kh=t=>e=>l(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Oh)return;let i=n?.token;Ko!==i&&(Ko=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Hi(t=an()){let e=ri(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Ui(t,{popupRedirectResolver:Sa,persistence:[Ta,Ia,zi]}),r=Wr("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=kh(s.toString());Wi(n,o,()=>o(n.currentUser)),Vi(n,a=>o(a))}}let i=jr("auth");return i&&xi(n,`http://${i}`),n}function Nh(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ud({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Se("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",Nh().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ch("Browser");var Aa="auth",Pe=class{constructor(e){return e}},Bi=class{constructor(){return oi(Aa)}};var qi=new O("angularfire2.auth-instances");function bf(t,e){let n=No(Aa,t,e);return n&&new Pe(n)}function Sf(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Pe(r)}}var Af={provide:Bi,deps:[[new re,qi]]},Rf={provide:Pe,useFactory:bf,deps:[[new re,qi],be]},Cf=(()=>{class t{constructor(){P("angularfire",St.full,"auth")}static \u0275fac=function(r){return new(r||t)};static \u0275mod=nt({type:t});static \u0275inj=tt({providers:[Rf,Af]})}return t})();function im(t,...e){return{ngModule:Cf,providers:[{provide:qi,useFactory:Sf(t),multi:!0,deps:[W,De,dn,At,[new re,un],...e]}]}}var Ra=Ye($i,!0);var sm=Ye(Hi,!0);var Ca=Ye(ji,!0);var cm=(()=>{let e=class e{constructor(r){this.auth=r}crearUsuario(r,i){return Ra(this.auth,r,i)}guardarUsuario(r){localStorage.setItem("usuarioActual",r)}getCurrentUser(){return localStorage.getItem("usuarioActual")}signIn(r,i){return Ca(this.auth,r,i)}signOut(){return this.auth.signOut()}};e.\u0275fac=function(i){return new(i||e)(ne(Pe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();export{ic as a,so as b,yp as c,Tp as d,bp as e,A as f,Sp as g,F as h,ae as i,B as j,w as k,qe as l,Ge as m,ri as n,Ke as o,an as p,P as q,St as r,No as s,oi as t,un as u,dn as v,Ye as w,be as x,At as y,lg as z,dg as A,Bi as B,im as C,sm as D,cm as E};
